<!--TODO schöner gestalten, va die codeabschnitte-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf8">
        <meta name="viewport" content="width-device-width, initial-scale=1.0">
        <title>
            Übung 4 Lösungen
        </title>
        <style>
            .auswahl ul {
              list-style-type: none;
              padding: 0;
      
              & li {
                display: inline-block;
                color: #333;
                border: 1px solid #ccc;
                cursor: pointer;
              }
              & li:hover {
                background-color: #eee;
              }
              & label {
                cursor: pointer;
                padding: 10px;
                display: inline-block;
              }
            }
            input[type="radio"] {
              display: none;
            }
            input[type="radio"]:not(:checked) ~ article {
              display: none;
            }
              </style>
    </head>
    <body>
        <header>
            <h1 align="center">Übung 4</h1>
            <nav>
                <div class="auswahl">
                <ul>
                    <li><label for="article1">Aufgabe 1</label></li>
                    <li><label for="article2">Aufgabe 2</label></li>
                    <li><label for="article3">Aufgabe 3</label></li>
                </ul>
                </div>
            </nav>
            <hr>
        </header>
    <main>
      <section>
        <input type="radio" name="article" id="article1"/>
        <article>

        <h4> Aufgabe 4.1: Funktionen</h4>
        <p>Schreiben Sie folgende Funktionen in JavaScript:</p>
        <ol>
            <li>Eine Funktion <mark>identity()</mark>, die ein Argument als Parameter entgegennimmt und dieses als Ergebnis zurückgibt.</li>
            <li>Eine Funktion <mark>identity_function()</mark>, die ein Argument als Parameter entgegennimmt und eine Funktion zurückgibt, die dieses Argument zurückgibt.</li>
            <li>Zwei binäre Funktionen <mark>add</mark> und <mark>mul</mark>, die Summe und Produkt berechnen.</li>
            <li>Eine Addierer-Funktion <mark>addf()</mark>, so dass <mark>addf(x)(y)</mark> genau <mark>x + y</mark> zurückgibt. (Es haben also zwei Funktionsaufrufe zu erfolgen. <mark>addf(x)</mark> liefert eine Funktion, die auf <mark>y</mark> angewandt wird.)</li>
            <li>Eine Funktion <mark>applyf()</mark>, die aus einer binären Funktion wie <mark>add(x,y)</mark> eine Funktion <mark>addf</mark> berechnet, die mit zwei Aufrufen das gleiche Ergebnis liefert, z.B. <mark>addf = applyf(add); addf(x)(y)</mark> soll <mark>add(x,y)</mark> liefern. Entsprechend <mark>applyf(mul)(5)(6)</mark> soll <mark>30</mark> liefern, wenn <mark>mul</mark> die binäre Multiplikation ist.</li>
        </ol>
        <p><ins>Meine Lösung: </ins></p>
        <pre>//4.1 Funktionen
            //1.Schreiben Sie eine Funktion identity(), die ein Argument als Parameter entgegen nimmt und dieses als Ergebnis zurück gibt.
            function identity(x){
                return x;
            } 
            console.log(identity(3));
            
            //2. Schreiben Sie eine Funktion identity_function(), die ein Argument als Parameter entgegen nimmt und eine Funktion zurück gibt, die dieses Argument zurück gibt.
            function identity_function(x){
                return identity(x);
            }
            console.log(identity_function(4));
            
            //3. Schreiben Sie zwei binäre Funktionen add und mul, die Summe und Produkt berechnen.
            function add(x,y){
                return x+y;
            }
            console.log(add(3,4));
            
            function mul(x,y){
                return x*y;
            }
            console.log(mul(3,4));
            
            //4.Schreiben Sie eine Addier-Funktion addf(), so dass addf(x)(y) genau x + y zurück gibt. (Es haben also zwei Funktionsaufrufe zu erfolgen. addf(x) liefert eine Funktion, die auf y angewandt wird.)
            function addf(x){
                
                return function (y){
                    return x+y;
                }
            }
            const add3 = addf(3);
            console.log(add3(10));
            
            //5.
            function applyf(f){
                return function(x){ //wie lokale methodenvariable, bekannt in der ganzen methode, closure function, x wird gemerkt
                    //x=4
                    return function(y){
                        return f(x,y);
                    }
            
                }
            }
            const addz=applyf(mul);
            //console.log(addz);
            console.log((addz(4))(6)); //function(y)(6)
            /**applyf(mul)
             * -> anonymous(x)
             * anonymous(4)
             * -> anonymous(y)
             * anonymous(6)
             * -> mul(4,6)
             **/
            </pre>
        <hr>
        </article>
      </section>

      <section>
        <input type="radio" name="article" id="article2"/>
        <article>
        <h4> Aufgabe 4.2: Objekte</h4>
        <p>Schreiben Sie die Prototypen <mark>Person</mark> und <mark>Auto</mark> in JavaScript, sodass jede Person weiß, welche Autos sie besitzt. 
            Schreiben Sie eine Funktion <mark>conflict()</mark>, die feststellt, ob ein Auto von mehr als einer Person besessen wird.</p>
        <p><ins>Meine Lösung: </ins></p>
        <pre>var Person={
            add_car: function(auto){
                this.autos.push(auto);
            }
    };
    
    var Auto={
          add_owner: function(person){
            this.besitzer.push(person);
        
          }
    };
    
    var auto1={
        __proto__:Auto,
        marke: 'BMW',
        besitzer:[],
        
    };
    
    var auto2={
        __proto__:Auto,
        marke: 'Audi',
        besitzer:[],
        
    };
    
    var person1={
        __proto__:Person,
        name: 'Anna',
        nachname: 'Meier',
        autos: [],
        
    
    };
    
    var person2={
        __proto__:Person,
        name: 'Max',
        nachname: 'Mustermann',
        autos: []
    };
    
    
    var person3={
        __proto__:Person,
        name: 'Mira',
        nachname: 'Meier',
        autos: []
    };
    
    
    function conflict(auto){
        return auto.besitzer.length >1;
    }
    
    
    auto1.add_owner(person1);
    auto2.add_owner(person2);
    auto2.add_owner(person3);
    
    console.log(conflict(auto1));
    console.log(conflict(auto2)); </pre>
    <hr>
</article>
</section>

<section>
    <input type="radio" name="article" id="article3"/>
    <article>
    <h4> Aufgabe 4.3: Fibonacci</h4>
    <p>Schreiben Sie im Browser die Fibonacci-Funktion in JS und geben Sie die ersten 2000 Fibonacci-Zahlen 0,1,1,2,3,5,8,13,... auf der Konsole mit console.log() aus.

        Achten Sie auf Performanz: Berechnen Sie jeden Fibonacci-Wert nur einmal. Speichern Sie zu diesem Zweck jede berechnete Fibonacci-Zahl in einer Tabelle.</p>
    <ol>
        <li>Was ist die größte Fibonacci-Zahl, die sich noch als Integer sicher speichern lässt (Number.MAX_SAFE_INTEGER)? Die wievielte Zahl in der Fibonacci-Folge ist das?</li>
        <li>Was ist die größte Fibonacci-Zahl, die sich noch als Number speichern lässt (Number.MAX_VALUE)? Die wievielte Zahl in der Fibonacci-Folge ist das?</li>
        <li>Wechseln Sie zu BigInt, um alle 2000 Fibonacci-Zahlen korrekt anzuzeigen.</li>
        <li>Optional: Was ist die größte Fibonacci-Zahl, die Sie mit BigInt korrekt berechnet haben? An welcher Stelle in der Fibonacci-Folge steht diese?</li>
    </ol>
    <p><ins>Meine Lösung: </ins></p>
    <pre>const fibPaare = new Map();

        function fibonacci(n) {
            if (n === 0) {
                return BigInt(0);
            } else if (n === 1) {
                return BigInt(1);
        
            } else if (fibPaare.has(n)) {
                return fibPaare.get(n);
            } else {
                let wert = fibonacci(n - 1) + fibonacci(n - 2);
                fibPaare.set(n, wert);
                return wert;
            }
        }
        
        for (let i = 0; i <= 2000; i++) {
            console.log("fibonacci(" + i + "): " + fibonacci(i));
        }
    </pre>
    <ol>
        <li>8944394323791464 ist die größte Fibonacci-Zahl die sich noch als Integer sicher speichern lässt und ist die 78. Zahl in der Fibonacci-Folge.</li>
        <li>2 353 412 818 241 252 672 952 597 492 098 ist die größte Fibonacci-Zahl die sich noch als Number sicher speichern lässt und ist die 147. Zahl in der Fibonacci-Folge.</li>
    </ol>
    
</article>
</section>
    </main>
    
    </body>
    </html>